<!DOCTYPE html>
<html>
<head>
  <title>Soulmate Calculator</title>
  <!-- Include Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>It's cuffing season!</h1>
  <h1>Answer a few questions to figure out the chance of finding your soulmate</h1>

  <label for="numberInput1">number 1</label>
  <input type="number1" id="numberInput1">
  <label for="numberInput2">number 2</label>
  <input type="number2" id="numberInput2">
  <label for="numberInput3">number 3</label>
  <input type="number3" id="numberInput3">
  <button onclick="generateHistogram()">generate button (does nothing)</button>

  <canvas id="histogramChart" width="400" height="200"></canvas>
  <div id="container"></div>

  <script type="module">

    import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

    // const ageandincomedata = await d3.csv("data/ageandincome2022.csv");
    const ageandsexdata = await d3.csv("data/ageandsex2022.csv");
    const popprofilehousingdata = await d3.csv("data/popprofilehousing2020.csv");
    const weightsdata = await d3.csv("data/weights.csv");

    var householdIncomeData ={
    0: {0: 718818, 10000: 718818, 15000: 258998, 20000: 315881, 25000: 296331, 30000: 341999, 35000: 294764, 40000: 315664, 45000: 243175, 50000: 474780, 60000: 574788, 75000: 578015, 100000: 300929, 125,000: 140104, 150000: 111129, 200000: 78652},
    25: {0: 1951920, 10000: 926285, 15000: 800098, 20000: 1095127, 25000: 1159690, 30000: 1466250, 35000: 1355753, 40000: 1564254, 45000: 1386158, 50000: 3006782, 60000: 4305239, 75000: 6153740, 100000: 4936590, 125,000: 3482583, 150000: 4182808, 200000: 5001113},
    45: {0: 2298892, 10000: 1497958, 15000: 1113994, 20000: 1190739, 25000: 1202878, 30000: 1347782, 35000: 1291127, 40000: 1421107, 45000: 1281853, 50000: 2758946, 60000: 3918418, 75000: 5849072, 100000: 4933555, 125,000: 3731699, 150000: 5062628, 200000: 7382159},
    65: {0: 2149924, 10000: 2120073, 15000: 2025934, 20000: 2012195, 25000: 1846766, 30000: 1763352, 35000: 1653876, 40000: 1579886, 45000: 1446731, 50000: 2693233, 60000: 3363896, 75000: 4069942, 100000: 2682639, 125,000: 1736903, 150000: 1916446, 200000: 2416852}};

    // Log the array of objects
    console.log('age and income data: ', householdIncomeData);
    console.log('25 year olds  ', householdIncomeData[25]);

    // console.log('ageandincomedata: ', ageandincomedata)
    // console.log('ageandincomedata[United States]: ', ageandincomedata["United States"])
    // console.log('ageandincomedata["Estimate!!Total:!!Householder 25 to 44 years:!!$10,000 to $14,999"]: ', ageandincomedata["Estimate!!Total:!!Householder 25 to 44 years:!!$10,000 to $14,999"])
    
    
    // Declare the chart dimensions and margins.
    const width = 640;
    const height = 400;
    const marginTop = 20;
    const marginRight = 20;
    const marginBottom = 30;
    const marginLeft = 40;
    
    // Declare the x (horizontal position) scale.
    const x = d3.scaleUtc()
        .domain([new Date("2023-01-01"), new Date("2024-01-01")])
        .range([marginLeft, width - marginRight]);
    
    // Declare the y (vertical position) scale.
    const y = d3.scaleLinear()
        .domain([0, 100])
        .range([height - marginBottom, marginTop]);
    
    // Create the SVG container.
    const svg = d3.create("svg")
        .attr("width", width)
        .attr("height", height);
    
    // Add the x-axis.
    svg.append("g")
        .attr("transform", `translate(0,${height - marginBottom})`)
        .call(d3.axisBottom(x));
    
    // Add the y-axis.
    svg.append("g")
        .attr("transform", `translate(${marginLeft},0)`)
        .call(d3.axisLeft(y));
    
    // Append the SVG element.
    container.append(svg.node());
    
    </script>
</body>
</html>
